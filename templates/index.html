{% extends "base.html" %}

{% block title %}
    Estadísticas de la Biblioteca
{% endblock %}

{% block content %}
    <style>
       /* Estilos adicionales */

.navbar-nav {
    margin-left: auto; /* Mueve el menú a la derecha */
}

.navbar-nav .nav-link {
    padding: 10px 20px;
}

.footer {
    background-color: #343a40;
    color: #fff;
    text-align: center;
    padding: 20px 0;
    position: relative;
    bottom: 0;
    width: 100%;
}

.jumbotron {
    background: linear-gradient(to right, #6a11cb, #2575fc);
    color: white;
    padding: 2rem 1rem;
}

.card {
    margin-bottom: 20px;
    border: none;
    border-radius: 15px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.card .card-body {
    padding: 2rem;
}

.carousel-inner img {
    height: 400px;
    object-fit: cover;
}

.carousel-caption {
    background: rgba(0, 0, 0, 0.5);
    padding: 1rem;
    border-radius: 10px;
}


    </style>

    <header class="bg-primary text-white py-4">
        <div class="container text-center">
            <h1>Bienvenido a la Biblioteca</h1>
        </div>
       
    </header>
    <main class="container my-4">
        <div class="jumbotron text-center">
            <img src="https://via.placeholder.com/300" alt="Libros" class="img-fluid rounded-circle mb-4">
            <h2>Sobre Nosotros</h2>
            <p class="lead">Somos una biblioteca dedicada a brindar acceso a la lectura y al conocimiento. Ofrecemos una amplia variedad de libros para todos los gustos y edades.</p>
        </div>

        <div class="row my-4">
            <div class="col-md-4">
                <div class="card text-center shadow-sm">
                    <div class="card-body">
                        <i class="fas fa-users fa-3x mb-3"></i>
                        <h5 class="card-title">Usuarios Registrados</h5>
                        <p class="card-text">Número total de usuarios registrados.</p>
                        <a href="/usuarios" class="btn btn-primary">Ver Usuarios</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center shadow-sm">
                    <div class="card-body">
                        <i class="fas fa-book fa-3x mb-3"></i>
                        <h5 class="card-title">Libros Disponibles</h5>
                        <p class="card-text">Número total de libros disponibles.</p>
                        <a href="/libros" class="btn btn-primary">Ver Libros</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center shadow-sm">
                    <div class="card-body">
                        <i class="fas fa-chart-line fa-3x mb-3"></i>
                        <h5 class="card-title">Estadísticas</h5>
                        <p class="card-text">Estadísticas de uso y préstamo de libros.</p>
                        <a href="/estadisticas" class="btn btn-primary">Ver Estadísticas</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="my-4">
            <h3 class="text-center">Libros Destacados</h3>
            <div id="librosDestacados" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="https://via.placeholder.com/800x400" class="d-block w-100" alt="Libro 1">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Libro 1</h5>
                            <p>Descripción del libro 1.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://via.placeholder.com/800x400" class="d-block w-100" alt="Libro 2">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Libro 2</h5>
                            <p>Descripción del libro 2.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://via.placeholder.com/800x400" class="d-block w-100" alt="Libro 3">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Libro 3</h5>
                            <p>Descripción del libro 3.</p>
                        </div>
                    </div>
                </div>
                <a class="carousel-control-prev" href="#librosDestacados" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Anterior</span>
                </a>
                <a class="carousel-control-next" href="#librosDestacados" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Siguiente</span>
                </a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <h4 class="text-center">Libros Prestados</h4>
                <canvas id="prestamosChart"></canvas>
            </div>
            <div class="col-md-6">
                <h4 class="text-center">Usuarios Activos</h4>
                <canvas id="usuariosChart"></canvas>
            </div>
        </div>
    </main>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Datos para los gráficos
        const prestamosData = {
            labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo'],
            datasets: [{
                label: 'Libros Prestados',
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                data: [12, 19, 3, 5, 2]
            }]
        };

        const usuariosData = {
            labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo'],
            datasets: [{
                label: 'Usuarios Activos',
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1,
                data: [5, 2, 3, 10, 8]
            }]
        };

        // Configuración de los gráficos
        const configPrestamos = {
            type: 'bar',
            data: prestamosData,
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        };

        const configUsuarios = {
            type: 'line',
            data: usuariosData,
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        };

        // Inicialización de los gráficos
        window.onload = function() {
            const ctxPrestamos = document.getElementById('prestamosChart').getContext('2d');
            new Chart(ctxPrestamos, configPrestamos);

            const ctxUsuarios = document.getElementById('usuariosChart').getContext('2d');
            new Chart(ctxUsuarios, configUsuarios);
        };
    </script>

{% endblock %}